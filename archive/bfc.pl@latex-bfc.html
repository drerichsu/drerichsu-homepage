<link type="text/css" rel="stylesheet" href="https://drerichsu.github.io/drerichsu-homepage/assets/css/style.css" />
<h1><a title="Click to search for references to this page" rel="nofollow" href="bfc.pl@search=%2522latex-bfc%2522.html">latex-bfc</a><span class="cart-checkbox" style="float:right">	<input type="checkbox" value="cart" id="latex-bfc-set" title="Add To Cart" /> <br>
</span></h1></div><div class="wrapper"><div class="content browse"><p><p> <strong>latex-bfc.pl</strong> An enhancement of latex.pl to allow raw latex to produce multiple PNGs or embedded PDFs; now uses amsmath and hyperref packages by default. Requires pdflatex.</p> <div class="toc"><h2>Contents</h2><ol><li><a href="bfc.pl@latex-bfc.html#Heading1"> v1.2c (2008-07-10)</a></li><li><a href="bfc.pl@latex-bfc.html#Heading2"> v1.2</a></li><li><a href="bfc.pl@latex-bfc.html#Heading3"> v1.0</a></li><li><a href="bfc.pl@latex-bfc.html#Heading4"> To Do (latex-bfc.pl)</a></li><li><a href="bfc.pl@latex-bfc.html#Heading5"> Deferred/Done</a></li><li><a href="bfc.pl@latex-bfc.html#Heading6"> Graphics Format</a><ol><li><a href="bfc.pl@latex-bfc.html#Heading7"> Rejected</a></li></ol></li></ol></div><h2 id="Heading1"> v1.2c (2008-07-10)</h2> <ul> <li> Now you can <code> \includegraphics{pic.pdf} </code> as written (we secretly add the <code>../</code> so as to look in $LatexDir where you really downloaded it.</li> <li> Fixed silly bug where the security quoting of raw latex comments was quoting all previous comments.</li> <li> Fixed silly bug where math &amp; displaymath weren&rsquo;t being produced as tight PNGs.</li> </ul> <h2 id="Heading2"> v1.2</h2> <ul> <li> Allows <code> \includegraphics{../file} </code> (by processing everything through pdflatex, cropping with pdfcrop and using convert to make PNGs)</li> <li> Defaults to producing cropped PNGs</li> <li> For single raw latex block, can override cropping and full-page format with <code> {{{ $ [opt</code> where opt can be png,pdf,pdffull,pngfull (pngtight, pdfcrop no longer works)</li> <li> I tried really hard to get PDFs embedded in a reasonable way, but the embed and object tags are flaky.</li> <li> Cropped PDFs as well as PNGs using pdfcrop.</li> <li> Now has links next to each png to popup pdf, cropped pdf and latex.</li> </ul> <p> &nbsp;</p> <h2 id="Heading3"> v1.0</h2> <ul> <li> enhanced raw latex mode (not secure, so don&rsquo;t let random people be editors!) (default <code>$allowPlainLaTeX=1</code>) <ul> <li> <code>{{{ <table class=minilinkstable ><tr><td class=pngwithlinks width=700><img class='LaTeX' src='../latex/cache-vZ+VeKPm6YjtjazhalTdeA/srender-crop.png' alt=' </code> and <code> ' /><br/></td><td valign=top width=200><span class=minilinks><a href="../latex/cache-vZ+VeKPm6YjtjazhalTdeA/srender.pdf" alt='pdf' target="_new">&nbsp;&bull; pdf</a><br/>
<a href="../latex/cache-vZ+VeKPm6YjtjazhalTdeA/srender-crop.pdf" alt='pdfcrop' target="_new">&nbsp;&bull; pdf tight</a><br/>
<a href="../latex/cache-vZ+VeKPm6YjtjazhalTdeA/srender.txt" alt='latex' target="_new">&nbsp;&bull; latex</a><br/>
</span></td></tr></table> </code> }}} to delimit raw LaTeX commands. Not suitable for use on a publicly editable wiki.</li> <li> raw latex produces full-page PNGs (one for each page) by default, with option to embed a PDF instead ($RawLatexOutput=&ldquo;pdf&rdquo;). This allows entire latex files to be displayed.</li> </ul> </li> <li> <code>{{{ $[type[options]{class} </code> are options. <ul> <li> type is the filetype of the output and can be pdf, png or pngtight (margins clipped)</li> <li> {class} is the LaTeX \documentclass. [opt] are options for {class}. They are optional and cannot stand by themselves.</li> </ul> </li> <li> raw latex mode is restricted to Editors and Admins unless <code>$RawLatexForAll=1</code></li> <li> Advantages to raw latex mode versus restricting to math and displaymath modes. <ul> <li> You can more easily include existing latex documents (just paste in the part between <code>\begin{document}</code> and <code>\end{document}</code> ).</li> <li> You can use many more environments, esp. environments like enumerate and align.</li> <li> You can include graphics. Post the graphics files in a pdflatex-friendly format (PDF, PNG, JPEG or GIF, <i>not</i> EPS) to $LatexDir and refer to a file as <code> \includegraphics{file.pdf} </code>.</li> </ul> </li> </ul> <h2 id="Heading4"> To Do (latex-bfc.pl)</h2> <ul> <li> When upgrading the BFC site from beta, <strong>BE SURE to change $LatexDir back to latex</strong></li> <li> TODO. There must be an optimization here for cropping. Currently it goes .tex - .pdf - .ps - .tex - .pdf. Yeek. I tried to hack the equation service templates to get pdflatex to directly produce a cropped page, but I couldn&rsquo;t make it accept multiple line inputs.</li> <li> TODO. It would be nice to find a subtle place for the links. Maybe they hide until the image is clicked? A little JS.</li> </ul> <h2 id="Heading5"> Deferred/Done</h2> <ul> <li> MAYBE. Use Equation Service templates to trim PDFs (e.g. for calc problems)</li> <li> MAYBE. How to cleanly push out config changes (e.g. $WikiLinks = 0; # No CamelCase links) to different sites. <ul> <li> should set in bfc.pl defaults but allow people to change it in config? So in bfc.pl, $WikiLinks = 0 unless (defined ($WikiLinks)) ; # No CamelCase links</li> <li> check order of loading of variables (and modules!)</li> </ul> </li> <li> MAYBE. Allow pdf=1 to make optional cookie?</li> <li> MAYBE. Make problem graphic a link to pop-up to give raw latex?</li> <li> DONE. Allow loading special class file. Ultra raw mode where there&rsquo;s no template?</li> <li> WORKAROUND. Can&rsquo;t adjust PDF embed window in custom way.???</li> <li> &acirc; FIXED. PATCHED. MyMacro subs don&rsquo;t affect comments.</li> </ul> <h2 id="Heading6"> Graphics Format</h2> <ul> <li> TRIED. Improve PNG look by producing higher res and scaling in browser? <ul> <li> Browsers are not reliable scalers.</li> </ul> </li> <li> TRIED. For PDF embeds, calculate the width exactly. height too. <ul> <li> I can look at the --debug output from pdfcrop (which shows gs&rsquo;s Page 1: bounding box lower left x, y, upper right x, y.) But the embedded PDf still looks horrible.</li> </ul> </li> <li> TRIED. Use equation service templates to trim the PDF. (couldn&rsquo;t quite figure it out&hellip; multiline output wasn&rsquo;t working.</li> </ul> <p> Option 1. PNG output.</p> <ul> <li> Every browser understands it, readable with equations. Can use any latex.</li> <li> Can&rsquo;t get dvipng to look good.</li> <li> hyperlinks won&rsquo;t work.</li> <li> &acirc; Improve the look of the dvi2png. Must be some way to boost the quality. <ul> <li> &acirc; Try --truecolor and -density (doesn&rsquo;t work)</li> <li> &acirc; Improve PNGs by converting PDF with imagemagick convert. (It doesn&rsquo;t look any better. )</li> </ul> </li> </ul> <p> Option 2. PDF output.</p> <ul> <li> Looks GREAT as text. Most browsers can read.</li> <li> Idiot Adobe toolbars. TURN OFF?</li> <li> hyperref does do links, but they open within the embed window. Not sufficient. <ul> <li> Actually this works fine on Firefox/Win and IE7, to change the whole window. Same with Safari.</li> <li> The problem is with Apple&rsquo;s PDF Viewer. Adobe Acrobat seems to handle it all right.</li> </ul> </li> </ul> <h3 id="Heading7"> Rejected</h3> <ul> <li> Opt 3. TTH. <ul> <li> tried TTH. Doesn&rsquo;t look right and doesn&rsquo;t support AMS-LaTeX.</li> </ul> </li> <li> Opt 4. Latexmathml. <ul> <li> <a class="url http" href="http://math.etsu.edu/LaTeXMathML/">http://math.etsu.edu/LaTeXMathML/</a> <ul> <li> DOESN&rsquo;T WORK on IE7</li> </ul> </li> <li> need to convert latex?</li> </ul> </li> <li> Opt 5. <a class="url http" href="http://www.math.union.edu/~dpvc/jsmath/">http://www.math.union.edu/~dpvc/jsmath/</a> <ul> <li> doesn&rsquo;t like enumerate</li> <li> doesn&rsquo;t like most environments</li> <li> can&rsquo;t quite install right on my OS X side</li> </ul> </li> <li> Opt 6. latex2html. <ul> <li> outputs equations to PNGs! Same quality issue as before.</li> <li> BUT, hyperlinks would work.</li> </ul> </li> <li> Opt 7. <a class="url http" href="http://www.cse.ohio-state.edu/~gurari/TeX4ht/">http://www.cse.ohio-state.edu/~gurari/TeX4ht/</a> <ul> <li> Still uses bitmaps for letters and figures</li> <li> BUT, some lovely lists of TeX-HTML utilities</li> </ul> </li> </ul></p></div><div class="wrapper close"></div></div><div class="footer">